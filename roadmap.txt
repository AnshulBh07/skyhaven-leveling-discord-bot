----------------------------------------------------------------------------------------------
                                       LEVELING SYSTEM
----------------------------------------------------------------------------------------------

***** PHASE 1 *****
ğŸ¯ CORE FEATURES: DISCORD LEVELING SYSTEM

1. ğŸ“ˆ XP & LEVELING SYSTEM
   - Users gain XP based on message activity (with cooldown to prevent spam farming).
   - XP-to-level formula (e.g. `XP = 5 * levelÂ² + 50 * level + 100`) determines level-ups.
   - Level-up detection and notification in a dedicated channel.

3. ğŸ§ USER COMMANDS
   - `/rank` â€“ Display user level, XP, and rank.
   - `/leaderboard` â€“ Show top users in the server by level.

4. ğŸ—ƒï¸ DATABASE INTEGRATION
   - Store user data (XP, levels) and guild settings in MongoDB for persistence.

5. ğŸš« RESTRICTIONS
   - No XP from:
     - Bots
     - Slash commands
     - Ignored or blacklisted channels
     - Non-text channels (e.g. voice)
   - Commands cannot be used in blacklisted channels.
   - Anti-spam cooldown applied per user per guild.

ğŸ“œ LEVEL ROLES â€” SKYHAVEN ğŸ°

| Level Range | Role Name            |
|-------------|----------------------|
| 1â€“5         | Certified Lurker     |
| 6â€“10        | Yapmaster Apprentice |
| 11â€“20       | Message Goblin       |
| 21â€“30       | Keyboard Crusader    |
| 31â€“50       | Legendary Typist     |
| 51â€“69       | The Yapfather        |
| 70+         | Chat Ascendant       |


***** PHASE 2 *****
ğŸ‘¤ ECONOMY AND ADMIN COMMANDS

1. ğŸ› ï¸ ADMIN COMMANDS
All of the following are subcommands under: /xpconfig

   - `/xpconfig notif-channel`         â†’ Set the notification channel for level-up messages.
   - `/xpconfig ignore-channel`        â†’ Prevent XP gain in specified channels.
   - `/xpconfig listen-channel`        â†’ Remove a channel from the ignore list.
   - `/xpconfig blacklist-channel`     â†’ Block all command usage in a channel.
   - `/xpconfig whitelist-channel`     â†’ Remove a channel from the blacklist.
   - `/xpconfig view`                  â†’ View the current server configuration for the bot.


2. ğŸ’° ECONOMY COMMANDS
   - `/setxp @user <amount>`           â†’ Set a user's XP to a specific amount.
   - `/addxp @user <amount>`           â†’ Add XP to a user.
   - `/removexp @user <amount>`        â†’ Removes specified amount of xp from user.
   - `/setlevel @user <level>`         â†’ Set a user's level manually.
   - `/resetserverxp`                  â†’ Reset XP and levels for **all users** in the server.


***** PHASE 3 *****
ğŸ–¼ï¸ RANK & LEVELING CARDS (Canvas-based)

1. ğŸ§¾ USER RANK CARD
   - Automatically generated when user runs: `/rank`
   - Displays:
     - Avatar with circular border
     - Username and Discriminator
     - Current XP / XP required for next level
     - Level and Rank
     - Progress bar with animated XP fill
     - Optional badge overlays (if any)

2. ğŸ“‹ LEADERBOARD CARD
   - Generated when user runs: `/leaderboard`
   - Displays:
     - Top 10 users by XP or Level
     - Avatars, usernames, and rank numbers
     - Can be sorted by level or XP
     - Compact and readable layout

3. ğŸ¨ CUSTOMIZATION FEATURES
   - Accent color auto-detected from user's Discord profile (fallback to default if `null`)
   - Dynamic background options (solid, gradient, or custom image)
   - Rounded corners and soft shadows for visual polish
   - Smooth XP bar animation with arrow indicator

4. âš™ï¸ TECH DETAILS
   - Canvas size: `800 x 180`
   - Libraries used: `canvas`, `node-fetch`
   - All elements rendered to canvas before combining into a final image
   - Error-handling for missing avatars or broken URLs


***** PHASE 4 *****
ğŸ§ VOICE XP SYSTEM

1. ğŸ™ï¸ VOICE CHAT XP
   - Users gain XP by participating in voice channels.
   - XP is awarded periodically while meeting all the below conditions.

2. âœ… VOICE XP CONDITIONS
   - At least **2 or more** legitimate (non-bot) members must be present in the voice channel.
   - The user must **not be self-muted**.
   - The user must **not be self-deafened**.
   - The user must **not be server-muted or server-deafened**.

3. ğŸ† LEADERBOARD INTEGRATION
   - Voice XP is stored alongside message XP and used in the `/leaderboard` command.
   - Encourages active participation in both text and voice channels.


----------------------------------------------------------------------------------------------
                                       Giveaway system
----------------------------------------------------------------------------------------------

1. ğŸ”¨ MODERATION COMMANDS
   - `/gban <user> [reason]`
     â€¢ Bans a user from participating in giveaways.
     â€¢ Optional reason can be added for moderation records.

   - `/gunban <user>`
     â€¢ Unbans a user, removing them from the giveaway banlist.

   - `/gbanlist`
     â€¢ (Optional) Displays all currently banned users.
     
   - `/gchannel`
      - sets giveaway channel

2. ğŸš€ GIVEAWAY MANAGEMENT
   - `/gstart <prize> <duration> <number_of_winners> [role requirement] [image] [hosted_by]`
     â€¢ Starts a giveaway creation flow.
     â€¢ Initial options: prize, time, number of winners, and hosted by (optional).
     â€¢ Bot follows up with:
       â€º Entry requirements (e.g., level, role, previous wins).
       â€º Tier restrictions (e.g., gold/silver/bronze).
       â€º ğŸ“· **Optional item image upload** â€“ user can attach an image to be shown in the giveaway embed.

   - `/greroll <giveaway_id>`
     â€¢ Picks a new winner for a previous giveaway.
     â€¢ Consider adding dropdown/autocomplete for giveaway selection.

   - `/gdelete <giveaway_id>`
     â€¢ Deletes a currently running giveaway by ID.

   - `/glist`
     â€¢ Shows all active giveaways in the server.
   
   - `/gentries` <user>
      * list of all the giveaways a user has entered
   
   - `/gwins` <user>
      * list of all the giveaways won by user

3. ğŸ›¡ï¸ ROLE / TIER CONFIGURATION
   - `/gassignrole <user> <tier>` (secondt thoughts on it as this should be a more of moderation feature)
     â€¢ Assigns a giveaway access tier to a user.
     â€¢ Tiers: gold, silver, bronze â€” can be used to limit access to special giveaways.

   - *(Alternative idea)* `/gconfigrole <discord_role> <tier>`
     â€¢ Maps a server role to a giveaway tier, useful for global config.

4. â¸ï¸ OPTIONAL / SKIPPED FEATURES
   - `/gpause`
     â€¢ (Not planned) Would pause a running giveaway.

   - `/gedit`
     â€¢ (Not planned) Would allow editing giveaway parameters live.


----------------------------------------------------------------------------------------------
                                       Guild Quest System
----------------------------------------------------------------------------------------------

1. ğŸ§‘â€ğŸ“ USER COMMANDS

- /gq submit <image> [user]
  â€¢ Submit a Guild Quest screenshot for yourself or on behalf of another user.

- /gq dm-notif <boolean> [user]
  â€¢ Toggle DM notifications for Guild Quest updates (approved/rejected).
  â€¢ If [user] is provided, only accessible by GQ admins.

- /gq stats [user]
  â€¢ Displays full Guild Quest statistics for the user.
    â€º Total submitted
    â€º Rewarded count
    â€º Rejected count
    â€º Pending count

- /gq pending [user]
  â€¢ Lists all currently pending (unreviewed) submissions for the user.

- /gq rewarded [user]
  â€¢ Lists all approved and rewarded submissions for the user.

- /gq rejected [user]
  â€¢ Lists all rejected submissions for the user.

- /gq find <gquest_id>
  â€¢ Locates a specific Guild Quest submission by ID.
  â€¢ Responds with a link button to jump to the original message.

- /gq leaderboard
  â€¢ Displays the Guild Quest leaderboard based on rewarded submissions.

- /gq delete <gquest_id>
  â€¢ Deletes a submission.
  â€¢ Only allowed if the submission is pending.

2. ğŸ›¡ï¸ ADMIN COMMANDS

- /gq reward-amount <amount>
  â€¢ Sets the base reward value (e.g., points/spina) per approved Guild Quest.

- /gq channel
  â€¢ Sets the channel where Guild Quest submissions are logged or reviewed.

- /gq role <role>
  â€¢ Assigns a role that determines access to Guild Quest participation or admin commands.

- /gq add-admin <user>
  â€¢ Grants Guild Quest admin permissions to the specified user.

- /gq remove-admin <user>
  â€¢ Revokes Guild Quest admin permissions from the specified user.

----------------------------------------------------------------------------------------------
                                       Guild Maze System
----------------------------------------------------------------------------------------------

1. ğŸ§‘â€ğŸ“ USER COMMANDS

- /mz submit <start_floor> <end_floor> [user]
  â€¢ Begin a maze submission for the given floor range.
  â€¢ A thread will be created where the user can manually upload proof images.

- /mz dm-notif <boolean> [user]
  â€¢ Toggle DM notifications for maze reward updates.
  â€¢ If [user] is provided, only accessible by maze admins.

- /mz stats [user]
  â€¢ Displays full maze statistics for the user.
    â€º Total mazes submitted
    â€º Total rewarded floors
    â€º Last rewarded date
    â€º Rejected count

- /mz pending [user]
  â€¢ Lists all currently pending (unreviewed) maze submissions for the user.

- /mz rewarded [user]
  â€¢ Lists all approved/rewarded maze submissions.
  â€¢ Includes floor ranges and reward timestamps.

- /mz rejected [user]
  â€¢ Lists all rejected maze submissions.
  â€¢ Displays rejection reasons and relevant details.

- /mz find <maze_id>
  â€¢ Locates a specific maze submission by ID.
  â€¢ Returns a jump link to the original message.

- /mz leaderboard
  â€¢ Displays the maze leaderboard based on total rewarded floors.

- /mz delete <maze_id>
  â€¢ Deletes a maze submission.
  â€¢ Only allowed if the maze is pending.

 
----------------------------------------------------------------------------------------------
                                       Guild Raids System
----------------------------------------------------------------------------------------------

raid flow is something like announce date time (ask for participation in same) -> scout raid bosses and announce buffs and debuffs -> allot teams and announce allotment -> raid finish announcement -> review message for admin who will provide a review on who actually joined and who didn't
- raid start time is taken as input
- ask for scout buff debuff for the latest raid exactly 5 hours before raid (only if not provided yet)
- team allocation before 3 hours of raid start time (if not allocated yet)
- DM all the participants with an embed reminder 30 min before raid 
- after 3 hours of raid completion send a review message to all the admins on raid channel. This will contain a checklist of who participated and who didn't.
admin will also be able to add people who joined raids but didn't participated
- raid is completely finished



GOOGLE GEMINI INTEGRATION FOR SERAPHINA PERSONALITY
To make the best out of free tier do this
- use templates for command replies
- cache responses to avoid duplicate prompts
- maintain chat history in mongodb and keep size of prompt small
- throttle long convos - if user gets a lot chatty tell them to chat next day
